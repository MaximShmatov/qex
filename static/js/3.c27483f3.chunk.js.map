{"version":3,"sources":["components/Button/Button.jsx","components/Button/Button.module.sass","components/SearchForm/SearchForm.module.sass","components/NewsBlock/NewsBlock.module.sass","pages/News/News.module.sass","api/news.js","components/SearchForm/SearchForm.jsx","components/NewsBlock/NewsBlock.jsx","pages/News/News.jsx"],"names":["Button","type","children","onClick","className","styles","button","module","exports","headers","method","baseURL","path","url","URL","pathname","SearchForm","onSubmit","form","input","name","placeholder","NewsBlock","news","urlToImage","title","publishedAt","source","newsBlock","image","alt","src","newsTitle","href","rel","target","sourceDate","Date","toDateString","sourceName","News","dispatch","useDispatch","useSelector","newsList","length","country","searchParams","set","fetch","then","res","json","fetchTopHeadlines","data","status","setNewsList","articles","setMessage","catch","error","toString","page","heading","event","preventDefault","keyword","elements","search","value","fetchFromKeywords","map","item","separator","Math","random"],"mappings":"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","file":"static/js/3.c27483f3.chunk.js","sourcesContent":["import React from 'react';\r\nimport styles from './Button.module.sass';\r\n\r\n\r\nexport default function Button({ type, children, onClick, className = ''}) {\r\n  return (\r\n    <button\r\n      className={`${styles.button} ${className}`}\r\n      type={type}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3DizS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__2fEkZ\",\"input\":\"SearchForm_input__UMpTq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsBlock\":\"NewsBlock_newsBlock__23Sq5\",\"image\":\"NewsBlock_image__52iQr\",\"newsTitle\":\"NewsBlock_newsTitle__2voxN\",\"source\":\"NewsBlock_source__3n8B6\",\"sourceDate\":\"NewsBlock_sourceDate__19YKT\",\"sourceName\":\"NewsBlock_sourceName__OWxNE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"News_page__3981f\",\"title\":\"News_title__Ts0HT\",\"heading\":\"News_heading__2IPV1\",\"separator\":\"News_separator__1ohMw\"};","const headers = {\r\n  method: 'POST',\r\n  headers: {\r\n    'X-Api-Key': 'ce03e39174374877b5dc588a9012459b'\r\n  },\r\n};\r\n\r\nconst baseURL = (path) => {\r\n  const url = new URL('https://newsapi.org');\r\n  url.pathname = path;\r\n  return url;\r\n};\r\n\r\nexport const fetchTopHeadlines = (country) => {\r\n  const url = baseURL('/v2/top-headlines');\r\n  url.searchParams.set('country', country);\r\n  return fetch(url.href, headers)\r\n    .then((res) => res.json());\r\n};\r\n\r\nexport const fetchFromKeywords = (keyword) => {\r\n  const url = baseURL('/v2/everything');\r\n  url.searchParams.set('q', keyword);\r\n  return fetch(url.href, headers)\r\n    .then((res) => res.json());\r\n};\r\n","import React from 'react';\r\nimport Button from '../../components/Button/Button';\r\nimport styles from './SearchForm.module.sass';\r\n\r\n\r\nexport default function SearchForm({ onSubmit }) {\r\n  return (\r\n    <form className={styles.form} onSubmit={onSubmit}>\r\n      <input\r\n        className={styles.input}\r\n        name={'search'}\r\n        type={'text'}\r\n        placeholder={'Enter Keyword'}\r\n      />\r\n      <Button type={'submit'}>\r\n        Search\r\n      </Button>\r\n    </form>\r\n  );\r\n}","import React from 'react';\r\nimport styles from './NewsBlock.module.sass';\r\n\r\n\r\nexport default function NewsBlock({ news }) {\r\n  const {urlToImage, url, title, publishedAt, source} = news;\r\n\r\n  return (\r\n    <div className={styles.newsBlock}>\r\n      <img className={styles.image} alt=\"\" src={urlToImage} />\r\n      <h3 className={styles.newsTitle}>\r\n        <a href={url} rel=\"noopener noreferrer\" target=\"_blank\">\r\n          {title}\r\n        </a>\r\n      </h3>\r\n      <div className={styles.source}>\r\n        <span className={styles.sourceDate}>\r\n          {new Date(publishedAt).toDateString()}\r\n        </span>\r\n        <span className={styles.sourceName}>\r\n          {source.name}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport { fetchTopHeadlines, fetchFromKeywords } from '../../api/news';\r\nimport { setNewsList } from '../../redux/newsSlice';\r\nimport { setMessage } from '../../redux/snackbarSlice';\r\nimport SearchForm from '../../components/SearchForm/SearchForm';\r\nimport NewsBlock from '../../components/NewsBlock/NewsBlock';\r\nimport styles from './News.module.sass';\r\n\r\n\r\nexport default function News() {\r\n  const dispatch = useDispatch();\r\n  const news = useSelector(({ news }) => news.newsList)\r\n\r\n  if (!news.length) {\r\n    fetchTopHeadlines('ru')\r\n      .then((data) => {\r\n        if (data.status === 'ok') {\r\n          dispatch(setNewsList(data.articles));\r\n        } else {\r\n          dispatch(setMessage(`${data.status}: limit reached )...`));\r\n        }\r\n      })\r\n      .catch((error) => dispatch(setMessage(error.toString())));\r\n  }\r\n\r\n  const handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const keyword = event.target.elements.search.value;\r\n    if (keyword !== '') {\r\n      fetchFromKeywords(keyword)\r\n        .then((data) => {\r\n          if (data.status === 'ok') {\r\n            dispatch(setNewsList(data.articles));\r\n          } else {\r\n            dispatch(setMessage(`${data.status}: limit reached )...`));\r\n          }\r\n        })\r\n        .catch((error) => dispatch(setMessage(error.toString())));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className={styles.page}>\r\n      <div className={styles.heading}>\r\n        <h1 className={styles.title}>\r\n          News\r\n        </h1>\r\n        <SearchForm onSubmit={handleFormSubmit} />\r\n      </div>\r\n      {news.map((item) => (\r\n        <div key={Math.random()}>\r\n          <hr className={styles.separator} />\r\n          <NewsBlock news={item} />\r\n        </div>)\r\n      )}\r\n    </main>\r\n  );\r\n}"],"sourceRoot":""}